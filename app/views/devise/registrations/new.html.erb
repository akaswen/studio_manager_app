<h2 class="text-center">Sign up</h2>

<div class="row">
  <div class="col-1"></div>
  <div class="col-10 border mb-3">
    <h4 class="text-center">Basic Info</h4>
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: {novalidate: true, id: "create_new_user"}) do |f| %>
      <%= devise_error_messages! %>

      <div class="field row my-5">
        <%= f.label :email, class: "col-3" %>
        <div class="col-9">
          <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "col-9", required: true %>
          <span></span>
        </div>
      </div>

      <div class="field row my-5">
        <%= f.label :first_name, "First name", class: "col-3" %>
        <div class="col-9">
          <%= f.text_field :first_name, class: "col-9", required: true %>
          <span></span>

        </div>
      </div>

      <div class="field row my-5">
        <%= f.label :last_name, "Last name", class: "col-3" %>
        <div class="col-9">
          <%= f.text_field :last_name, class: "col-9", required: true %>
          <span></span>

        </div>
      </div>

      <h4 class="text-center">Address</h4>
      
      <%= f.fields_for(:addresses) do |address| %>
        <div class="field row my-5">
          <%= address.label :street_address, "Street address", class: "col-3" %>
          <div class="col-9">
            <%= address.text_field :street_address, class: "col-9", required: true %>
          <span></span>

          </div>
        </div>

        <div class="field row my-5">
          <%= address.label :city, "City", class: "col-3" %>
          <div class="col-9">
            <%= address.text_field :city, class: "col-9", required: true %>
          <span></span>

          </div>
        </div>

        <div class="field row my-5">
          <%= address.label :state, "State", class: "col-3" %>
          <div class="col-9">
            <%= address.select :state, options_for_select(us_states) %>
          <span></span>

          </div>
        </div>

        <div class="field row my-5">
          <%= address.label :zip_code, "Zip code", class: "col-3" %>
          <div class="col-9">
            <%= address.text_field :zip_code, class: "col-9", required: true, pattern: '\d{5}' %>
          <span></span>

          </div>
        </div>
      <% end %>

      <h4 class="text-center">Phone Number</h4>

      <%= f.fields_for(:phone_numbers) do |phone| %>
        <div class="field row my-5">
          <%= phone.label :number, "Phone number", class: "col-3" %>
          <div class="col-9">
            <%= phone.text_field :number, class: "col-9", required: true, pattern: '^(\D*\d\D*){10}$' %>
          <span></span>

          </div>
        </div>

        <div class="field row my-5">
          <%= phone.label :kind, "Kind", class: "col-3" %>
          <div class="col-9">
            <%= phone.select :kind, options_for_select([['mobile', 'mobile'], ['Home', 'home'], ['Work', 'work']]) %>
          <span></span>

          </div>
        </div>

      <% end %>
      
      <h4 class="text-center">Password</h4>

      <div class="field row my-5">
        <div class="col-3">
          <%= f.label :password %>
          <% if @minimum_password_length %>
          <em>(<%= @minimum_password_length %> characters minimum, 1 capital, 1 number)</em>
          <% end %>
        </div>
        <div class="col-9">
          <%= f.password_field :password, autocomplete: "new-password", class: "col-9", required: true, pattern: '(?:.*[A-Z])(?:.*[0-9])', minlength: "8" %>
          <span></span>

        </div>
      </div>

      <div class="field row my-5">
        <%= f.label :password_confirmation, class: "col-3" %>
        <div class="col-9">
          <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "col-9", required: true %>
          <span></span>

        </div>
      </div>

      <div class="actions">
        <%= f.submit "Sign up", class: "mb-3" %>
      </div>
    <% end %>
    
    <%= render "devise/shared/links" %>
  </div>
  <div class="col-1"></div>
</div>

